local ScreenGui = Instance.new("ScreenGui")
local MainButton = Instance.new("TextButton")
local UICorner = Instance.new("UICorner")

ScreenGui.Name = "MM2_Garantili_Aim"
ScreenGui.Parent = game:GetService("CoreGui")

MainButton.Parent = ScreenGui
MainButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
MainButton.Position = UDim2.new(0, 20, 0.5, 0)
MainButton.Size = UDim2.new(0, 160, 0, 60)
MainButton.Text = "AIMLOCK: KAPALI"
MainButton.TextColor3 = Color3.fromRGB(255, 255, 255)
MainButton.Font = Enum.Font.SourceSansBold
MainButton.TextSize = 18
UICorner.Parent = MainButton

local active = false
local Camera = workspace.CurrentCamera
local LocalPlayer = game.Players.LocalPlayer

-- En yakÄ±n oyuncuyu bulma fonksiyonu
local function getClosestPlayer()
    local target = nil
    local dist = math.huge
    for _, v in pairs(game.Players:GetPlayers()) do
        if v ~= LocalPlayer and v.Character and v.Character:FindFirstChild("HumanoidRootPart") then
            local pos, onScreen = Camera:WorldToViewportPoint(v.Character.HumanoidRootPart.Position)
            if onScreen then
                local magnitude = (Vector2.new(pos.X, pos.Y) - Vector2.new(Camera.ViewportSize.X/2, Camera.ViewportSize.Y/2)).Magnitude
                if magnitude < dist then
                    target = v
                    dist = magnitude
                end
            end
        end
    end
    return target
end

-- SÃ¼rekli kilitlenme dÃ¶ngÃ¼sÃ¼
game:GetService("RunService").RenderStepped:Connect(function()
    if active then
        local target = getClosestPlayer()
        if target and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
            -- KamerayÄ± doÄŸrudan hedefin kafasÄ±na/gÃ¶vdesine kilitler
            Camera.CFrame = CFrame.new(Camera.CFrame.Position, target.Character.HumanoidRootPart.Position)
        end
    end
end)

MainButton.MouseButton1Click:Connect(function()
    active = not active
    if active then
        MainButton.Text = "KÄ°LÄ°TLENDÄ° ðŸŽ¯"
        MainButton.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
    else
        MainButton.Text = "AIMLOCK: KAPALI"
        MainButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
    end
end)
